<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ADM-014 - Control de cupos</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="container">

    <header>
      <div class="brand">
        <div class="logo">nhs</div>
        <div>
          <h1>Control de cupos</h1>
          <p>Gestión de matrícula en tiempo real</p>
        </div>
      </div>
    </header>

    <main>

      <section class="form-section">
        <h2>Disponibilidad de matrícula</h2>

        <div class="info-cupos">
          <div class="cupos-card">
            <h3>Estudiantes matriculados</h3>
            <p id="matriculados" class="contador">0</p>
          </div>

          <div class="cupos-card">
            <h3>Cupos disponibles</h3>
            <p id="disponibles" class="contador">0</p>
          </div>
        </div>

        <button id="btnSimularMatricula" class="btn-primary">simular nueva matrícula</button>

        <div id="msg" class="msg" style="display:none;"></div>

      </section>

    </main>

  </div>

  <script>
    let limiteCupos = 30; 
    let estudiantesMatriculados = 22; 

    const matriculados = document.getElementById('matriculados');
    const disponibles = document.getElementById('disponibles');
    const msg = document.getElementById('msg');
    const btnSimular = document.getElementById('btnSimularMatricula');

    function actualizarContadores() {
      matriculados.textContent = estudiantesMatriculados;
      disponibles.textContent = limiteCupos - estudiantesMatriculados;

      const cuposDisp = limiteCupos - estudiantesMatriculados;

      if (cuposDisp <= 0) {
        bloquearMatricula();
      }
    }

    function mostrar(tipo, texto) {
      msg.className = "msg " + (tipo === "ok" ? "ok" : "err");
      msg.textContent = texto;
      msg.style.display = "block";
    }

    function bloquearMatricula() {
      btnSimular.disabled = true;
      mostrar("err", "el límite de estudiantes ha sido alcanzado. no se pueden realizar más matrículas.");
    }

    btnSimular.addEventListener('click', function () {
      const cuposDisp = limiteCupos - estudiantesMatriculados;

      if (cuposDisp <= 0) {
        bloquearMatricula();
        return;
      }

      estudiantesMatriculados++;

      actualizarContadores();

      mostrar("ok", "matrícula registrada correctamente.");
    });

    actualizarContadores();
  </script>

</body>

</html>
