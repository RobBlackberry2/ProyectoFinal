<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ADM-012 - Bandeja de Entrada</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="container">

    <header>        
      <div class="brand">
        <div class="logo">nhs</div>
        <div>
          <h1>Bandeja de entrada</h1>
          <p>Mensajería interna</p>
        </div>
      </div>
    </header>

    <main>

      <section class="form-section">
        <h2>Mensajes recibidos</h2>

        <div id="lista" class="lista-mensajes"></div>

        <div id="detalle" class="mensaje-detalle" style="display:none;"></div>

      </section>

    </main>

  </div>

  <script>
    // mensajes simulados
    const mensajes = [
      {
        id: 1,
        remitente: "silvia arce",
        fecha: "2025-02-12 08:30",
        contenido: "buen día, recuerde que mañana tenemos reunión de avance académico."
      },
      {
        id: 2,
        remitente: "steven vasquez",
        fecha: "2025-02-15 13:10",
        contenido: "el estudiante presenta un buen progreso en matemáticas."
      },
      {
        id: 3,
        remitente: "marta zamora",
        fecha: "2025-02-18 09:50",
        contenido: "necesito coordinar una reunión para conversar sobre el rendimiento académico."
      }
    ];

    const lista = document.getElementById('lista');
    const detalle = document.getElementById('detalle');

    function cargarMensajes() {
      if (mensajes.length === 0) {
        lista.innerHTML = `
          <div class="msg err">no hay mensajes en la bandeja de entrada.</div>
        `;
        return;
      }

      mensajes.forEach(m => {
        const card = document.createElement('div');
        card.className = 'mensaje-card';
        card.innerHTML = `
          <strong>${m.remitente}</strong><br>
          <span class="fecha">${m.fecha}</span>
          <p>${m.contenido.substring(0, 40)}...</p>
        `;

        card.addEventListener('click', function () {
          mostrarDetalle(m);
        });

        lista.appendChild(card);
      });
    }

    function mostrarDetalle(m) {
      detalle.style.display = 'block';
      detalle.innerHTML = `
        <h3>mensaje de ${m.remitente}</h3>
        <p><strong>fecha:</strong> ${m.fecha}</p>
        <hr>
        <p>${m.contenido}</p>
      `;
    }

    cargarMensajes();
  </script>

</body>

</html>
